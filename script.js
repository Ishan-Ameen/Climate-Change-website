//Banner code
var timer;
function Start_Timer(){
    timer = setInterval(banner, 5000);
}
function reset_timer(){
    clearInterval(timer);
    Start_Timer();
}

function banner(){
    var Checked = false;
    for (var i = 1; i <= 4; i++) {
        var checkbox = document.getElementById('radio' + i);
        if (checkbox.checked && Checked == false){
            var num = i + 1;
            if (num == 5){
                num = 1;
        }
            document.getElementById('radio'+num).checked = true;
            Checked = true;
        }
    }
    if (Checked == false){
        document.getElementById('radio1').checked = true;
    }
}

function Slide(num){
    var Checked = false;
    for (var i = 1; i <= 4; i++) {
        var checkbox = document.getElementById('radio' + i);
        if (checkbox.checked && Checked == false){
            var num = i + num;
            if (num == 5){
                num = 1;
            }
            if (num == 0){
                num = 4;
            }
            document.getElementById('radio' + num).checked = true;
            Checked = true;
        }
    }
    reset_timer();
}


//Search Code

function search(event){
    event.preventDefault();
        
    // Declare and Initialize every variable.
    var input = document.getElementById("searchbar").value;
    input = input.toUpperCase(); // Makes input capital.
    input = input.replace(/ /g, ""); // Remove input spaces.
    var result = "not_found";
    var NumOfResults = 0;
    
    // Var with more than 1 value are called arrays.
    var cond = [
        "INTRODUCTIONONCLIMATECHANGE", "HOWITHAPPENS", "EFFECTS", 
        "GREENHOUSEEFFECT", "GLOBALWARMING", "SOLUTIONSFORCLIMATECHANGE", "ABOUT"
    ];
    var link = [
        "index.html", "How_it_Happens.html", "Effects.html", 
        "Greenhouse_Effect.html", "Global_Warming.html", "Solutions.html", "About_Us.html"
    ];
    var names = [
        "Introduction on Climate Change", "How it Happens", "Effects", 
        "Greenhouse Effect", "Global Warming", "Solutions for Climate Change", "About Us"
    ];
    
    if (input != ""){
        var WhichNum
        for(i=0; i<=cond.length-1; i++){
            if(cond[i].includes(input)){
            result = "found";
            NumOfResults++;
            WhichNum = i;
            }
        }

        event.preventDefault();  // Prevent Refresh after any message.
        if(NumOfResults == 1){
            // Redirect to another page if confirm == true.
            // \" are " in javascript.
            if(!window.location.href.includes(link[WhichNum])){
                if(confirm("Are you sure to go to \""+names[WhichNum]+"\" page?")){
                    window.location.href = link[WhichNum];
                }
            } else{
                alert("This is the page that you are looking for.");
            }
        }
        
        else if(result == "not_found"){
            alert("No Result Found");
        }
        
        else{
            var Result = document.getElementById("Result");
            var NewElement;
            Result.innerHTML = "";
            var description = [
                "Climate change refers to long-term alterations in temperature patterns, precipitation levels, wind patterns, and other aspects of Earth's climate system. It is primarily caused by human activities, particularly the burning of fossil fuels such as coal, oil, and gas, which....",
                "???????????????????????????????????????????????????????????????????????????????????????????? ???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????....",
                "???????????????????????????????????????????????????????????????????????????????????????????? ???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????....",
                "???????????????????????????????????????????????????????????????????????????????????????????? ???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????....",
                "???????????????????????????????????????????????????????????????????????????????????????????? ???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????....",
                "Everyone can help limit climate change. From the way we travel to the electricity and water we use, we can make a difference. Start with these seven actions to help tackle the climate crisis: Transition to Renewable Energy: Shifting our primary energy sources from fossil fuels....",
                "Personal Details  Name: Devesh Maniyanghattil  Class and Division: 7R  Email: deveshmaniyangatil@gmail.com  School: Habitat School Al Jurf  Name: Ishan Ameen  Class and Division: 7R  Email: ishanameen2021@gmail.com  School: Habitat School Al Jurf...."
            ]

            for(i=0; i<=cond.length-1; i++){
                if(cond[i].includes(input)){
                    NewElement = document.createElement('a');
                    NewElement.textContent = names[i];
                    NewElement.href = link[i];
                    Result.appendChild(NewElement);
                    Result.appendChild(document.createElement('br'));
                    NewElement = document.createElement('h5')
                    NewElement.textContent = description[i];
                    Result.appendChild(NewElement);
                    NewElement = null;
                }
            }
            
            input = document.getElementById("searchbar").value;
            document.getElementById("input").textContent = input;
            document.getElementById("SearchResult").style.display = "flex";
        }
    } else{}
}

function Close(){
    document.getElementById("SearchResult").style.display = "none";
}

// Navbar Code
var nav_toggle = document.getElementById("input_toggle");
var dropdown_toggle = document.getElementById("Input_DT");
var arrows = document.querySelector(".arrows");
var nav_auto = document.querySelector(".navigation-auto");
var nav_manual = document.querySelector(".navigation-manual");
var image = document.getElementById("image");

function check() {
    if (nav_toggle.checked == false) {
        dropdown_toggle.checked = false;
    }

    var slideHeight = image.clientHeight; // Get the height of the slides element
    var marginTop = slideHeight / 2 - 10 + "px";
    nav_auto.style.marginTop = slideHeight - 20 + "px";
    nav_manual.style.marginTop = slideHeight - 20 + "px";
    arrows.style.marginTop = marginTop;
}

setInterval(check, 100);

banner();
Start_Timer();
